{"version":3,"file":"static/js/567.490b8726.chunk.js","mappings":"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","sources":["components/Section/Section.styled.jsx","components/Section/Section.jsx","components/FavoriteCarBtn/FavoriteCarBtn.styled.jsx","components/FavoriteCarBtn/FavoriteCarBtn.jsx","components/FavoritesSidebar/FavoritesSidebar.styled.jsx","components/FavoritesSidebar/FavoritesSidebar.jsx","pages/Favorites.jsx","services/sellCarsApi.js","utils/handlePhotoLoadError.js"],"sourcesContent":["import styled from '@emotion/styled';\n\nexport const MainSection = styled.section`\n  padding: 150px 0;\n`;\n","import { MainSection } from './Section.styled';\n\nexport const Section = ({ children }) => {\n  return <MainSection>{children}</MainSection>;\n};\n","import styled from '@emotion/styled';\n\nexport const ButtonWrapper = styled.div`\n  height: 100px;\n  margin-bottom: 20px;\n`;\n\nexport const CarRadioLabel = styled.label`\n  height: 100%;\n\n  display: block;\n\n  cursor: pointer;\n`;\n\nexport const OriginalHiddenRadio = styled.input`\n  position: absolute;\n  opacity: 0;\n  width: 0;\n  height: 0;\n  appearance: none;\n\n  &:focus ~ div {\n    background-color: #add8e6;\n  }\n\n  & ~ div {\n    height: 100%;\n    padding: 10px;\n\n    background-color: #b0c4de;\n\n    border-radius: 20px;\n\n    overflow: hidden;\n\n    transition: background-color 200ms ease-out;\n\n    &:hover {\n      background-color: #add8e6;\n    }\n  }\n\n  &:checked ~ div {\n    background-color: #4682b4;\n  }\n`;\n\nexport const PhotoWrapper = styled.div`\n  height: 50px;\n  width: 50px;\n  margin-bottom: 14px;\n\n  border-radius: 14px;\n  overflow: hidden;\n\n  background: linear-gradient(\n      180deg,\n      rgba(18, 20, 23, 0.5) 2.5%,\n      rgba(18, 20, 23, 0) 41.07%\n    ),\n    #f3f3f2;\n`;\n\nexport const Photo = styled.img`\n  height: 100%;\n\n  object-fit: cover;\n`;\n","import { handlePhotoLoadError } from 'utils/handlePhotoLoadError';\nimport {\n  ButtonWrapper,\n  CarRadioLabel,\n  OriginalHiddenRadio,\n  Photo,\n  PhotoWrapper,\n} from './FavoriteCarBtn.styled';\n\nimport default_img from 'assets/img/no_image_available.jpeg';\n\nexport const FavoriteCarBtn = ({\n  carInfo,\n  toggleFavorite,\n  activeCar,\n  setActiveCar,\n}) => {\n  const { year, make, model, type, img = default_img, id } = carInfo;\n\n  const handleChange = e => {\n    setActiveCar(Number(e.target.value));\n  };\n\n  return (\n    <ButtonWrapper>\n      <CarRadioLabel>\n        <OriginalHiddenRadio\n          type=\"radio\"\n          name=\"car-item\"\n          value={id}\n          checked={activeCar === id}\n          onChange={handleChange}\n        />\n        <div>\n          <PhotoWrapper>\n            <Photo\n              src={img}\n              alt={make + '' + type}\n              onError={handlePhotoLoadError}\n            />\n          </PhotoWrapper>\n          <span>{year}</span>\n          <span>{make}</span>\n          <span>{model}</span>\n          <span>{type}</span>\n          <span>{id}</span>\n        </div>\n      </CarRadioLabel>\n    </ButtonWrapper>\n  );\n};\n","import styled from '@emotion/styled';\n\nexport const FavoritesContainer = styled.div`\n  height: 400px;\n  width: 300px;\n  padding: 20px;\n\n  overflow-y: auto;\n`;\n","import { FavoritesContainer } from './FavoritesSidebar.styled';\n\nexport const FavoritesSidebar = ({ children }) => {\n  return <FavoritesContainer>{children}</FavoritesContainer>;\n};\n","import { Container } from 'components/Container/Container';\nimport { FavoriteCarBtn } from 'components/FavoriteCarBtn/FavoriteCarBtn';\nimport { FavoritesSidebar } from 'components/FavoritesSidebar/FavoritesSidebar';\nimport { Section } from 'components/Section/Section';\nimport { useFavorite } from 'hooks/favoriteContext';\nimport { useEffect, useState } from 'react';\nimport { getAllCars } from 'services/sellCarsApi';\n\nconst Favorites = () => {\n  const [filteredCars, setFilteredCars] = useState([]);\n  const { favoriteCars, toggleFavorite } = useFavorite();\n  const [activeCar, setActiveCar] = useState(null);\n\n  useEffect(() => {\n    (async () => {\n      try {\n        const cars = await getAllCars();\n\n        const filteredFavorites = cars.filter(car =>\n          favoriteCars.includes(car.id)\n        );\n\n        setFilteredCars(filteredFavorites);\n      } catch (error) {\n        console.log(error);\n      }\n    })();\n  }, [favoriteCars]);\n\n  useEffect(() => {\n    if (!filteredCars.length) {\n      return;\n    }\n\n    setActiveCar(filteredCars[0].id);\n  }, [filteredCars]);\n\n  useEffect(() => {\n    console.log(activeCar);\n  }, [activeCar]);\n\n  return (\n    <Section>\n      <Container>\n        <FavoritesSidebar>\n          {!!favoriteCars.length && (\n            <ul>\n              {filteredCars.map(car => (\n                <li key={car.id}>\n                  <FavoriteCarBtn\n                    carInfo={car}\n                    toggleFavorite={toggleFavorite}\n                    activeCar={activeCar}\n                    setActiveCar={setActiveCar}\n                  />\n                </li>\n              ))}\n            </ul>\n          )}\n        </FavoritesSidebar>\n      </Container>\n    </Section>\n  );\n};\n\nexport default Favorites;\n","import axios from 'axios';\nimport 'utils/constants';\nimport { BASE_URL, PAGE, PER_PAGE } from 'utils/constants';\n\naxios.defaults.baseURL = BASE_URL;\n\nexport const getAllCarsPerPage = async (page = PAGE, limit = PER_PAGE) => {\n  const res = await axios.get(`/api/cars?page=${page}&limit=${limit}`);\n\n  return res.data;\n};\n\nexport const getAllCars = async () => {\n  const res = await axios.get(`/api/cars`);\n\n  return res.data;\n};\n","import default_img from 'assets/img/no_image_available.jpeg';\n\nexport const handlePhotoLoadError = e => {\n  e.currentTarget.onerror = null;\n  e.currentTarget.src = default_img;\n};\n"],"names":["MainSection","styled","Section","children","ButtonWrapper","CarRadioLabel","OriginalHiddenRadio","PhotoWrapper","Photo","FavoriteCarBtn","carInfo","activeCar","toggleFavorite","setActiveCar","year","make","model","type","img","default_img","id","name","value","checked","onChange","e","Number","target","src","alt","onError","handlePhotoLoadError","FavoritesContainer","FavoritesSidebar","useState","filteredCars","setFilteredCars","useFavorite","favoriteCars","useEffect","getAllCars","cars","filteredFavorites","filter","car","includes","console","log","length","Container","map","axios","BASE_URL","getAllCarsPerPage","page","PAGE","limit","PER_PAGE","res","data","currentTarget","onerror"],"sourceRoot":""}